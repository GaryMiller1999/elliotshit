version: 0.2

env:
  shell: powershell.exe

phases:
  build:
    commands:
      - Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))
      - choco install python --confirm --no-progress
      - choco install curl --confirm --no-progress
      - curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py
      - python.exe get-pip.py
      - python.exe -m venv .venv
      - virtualenv .venv
      - .venv\Scripts\activate
      # - '& "C:\ProgramData\chocolatey\bin\NuGet.exe" restore $env:SOLUTION -PackagesDirectory $env:PACKAGE_DIRECTORY'
      # - '& "C:\Program Files (x86)\MSBuild\14.0\Bin\MSBuild.exe" -p:FrameworkPathOverride="C:\Program Files (x86)\Reference Assemblies\Microsoft\Framework\.NETFramework\v$env:DOTNET_FRAMEWORK" $env:SOLUTION'
artifacts:
  files:
    - dist\*